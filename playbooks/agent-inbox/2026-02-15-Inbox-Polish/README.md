# Unified Inbox Polish

## Purpose

Applies cosmetic and functional improvements to the Unified Inbox modal: larger modal with Normal/Expanded toggle (800px ↔ 90vw), taller cards with more message context, native-style flat pipe separators, unread-first default filter, starred tabs filter, and "By Agent" grouping mode.

## Source Artifact

- **Type:** Feature improvement spec (brownfield UI)
- **Original:** Conversation spec (Felipe + Pedram feedback)
- **Translated:** {{DATE}}

## Architecture

```
Doc 1 (Types + Config) → Doc 2 (Visual: Modal + Cards + Pipes + Expand Toggle) → Doc 3 (Starred Filter) → Doc 4 (By Agent Sort) → Doc 5 (Tests + Gate)
```

### State Files
| File | Written By | Read By | Purpose |
|------|-----------|---------|---------|
| No state files needed | — | — | All docs modify source directly |

## Prerequisites

- Maestro repo with dependencies installed
- Branch: `feature/unified-inbox`
- No custom prompt required

## Documents

| # | Document | Purpose | Resets |
|---|----------|---------|--------|
| 1 | 1_TYPES_AND_CONFIG.md | Add starred/byAgent types + update defaults | No |
| 2 | 2_VISUAL_POLISH.md | Modal 800px, cards 120px, flat pipe Row 1 | No |
| 3 | 3_STARRED_FILTER.md | Starred filter mode in hook + component | No |
| 4 | 4_BY_AGENT_SORT.md | By Agent grouping with unread-first logic | No |
| 5 | 5_TESTS_AND_GATE.md | Update tests + lint/test/build verification | No |

## Key Paths

- **Playbook folder:** {{AUTORUN_FOLDER}}
- **Types:** `src/renderer/types/agent-inbox.ts`
- **Component:** `src/renderer/components/AgentInbox.tsx`
- **Hook:** `src/renderer/hooks/useAgentInbox.ts`
- **Tests:** `src/__tests__/renderer/components/AgentInbox.test.tsx`, `src/__tests__/renderer/hooks/useAgentInbox.test.ts`

## How to Run

1. Open Maestro
2. Navigate to Auto Run
3. Add the `2026-02-15-Inbox-Polish` folder
4. Click Start — docs execute sequentially

## Notes

- `AITab.starred: boolean` already exists at `src/renderer/types/index.ts:417` — no new infrastructure needed for starred
- Indentation: TABS not spaces
- Colors: never hardcode hex, always use `theme.colors.{token}`
- The "By Agent" sort groups by `sessionName` (agent name), not by Left Bar group

---

*Generated by playbook-translator squad — {{DATE}}*
